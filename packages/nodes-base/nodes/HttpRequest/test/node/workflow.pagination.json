{
	"name": "HTTP Pagination Test",
	"nodes": [
		{
			"parameters": {},
			"id": "2be55c5f-3986-4631-bb9e-54a1f87e95b9",
			"name": "When clicking \"Execute Workflow\"",
			"type": "n8n-nodes-base.manualTrigger",
			"typeVersion": 1,
			"position": [660, 280]
		},
		{
			"parameters": {
				"url": "https://dummyjson.com/users",
				"sendQuery": true,
				"queryParameters": {
					"parameters": [
						{
							"name": "limit",
							"value": "3"
						}
					]
				},
				"options": {
					"pagination": {
						"pagination": {
							"parameters": {
								"parameters": [
									{
										"type": "qs",
										"name": "skip",
										"value": "={{ $count * 3 }}"
									}
								]
							},
							"limitPagesFetched": true,
							"maxRequests": 3
						}
					}
				}
			},
			"id": "062086e5-e4c9-4ef2-b506-408167e1f0a5",
			"name": "Page Limit",
			"type": "n8n-nodes-base.httpRequest",
			"typeVersion": 4.1,
			"position": [900, 0]
		},
		{
			"parameters": {
				"url": "https://dummyjson.com/users",
				"sendQuery": true,
				"queryParameters": {
					"parameters": [
						{
							"name": "limit",
							"value": "3"
						}
					]
				},
				"options": {
					"pagination": {
						"pagination": {
							"parameters": {
								"parameters": [
									{
										"type": "qs",
										"name": "skip",
										"value": "={{ $count * 3 }}"
									}
								]
							}
						}
					}
				}
			},
			"id": "5b82121f-ec6f-4638-abc9-2c9d6cd29f41",
			"name": "Response Empty",
			"type": "n8n-nodes-base.httpRequest",
			"typeVersion": 4.1,
			"position": [900, 180]
		},
		{
			"parameters": {
				"url": "https://dummyjson.com/users",
				"sendQuery": true,
				"queryParameters": {
					"parameters": [
						{
							"name": "limit",
							"value": "3"
						}
					]
				},
				"options": {
					"pagination": {
						"pagination": {
							"parameters": {
								"parameters": [
									{
										"type": "qs",
										"name": "skip",
										"value": "={{ $count * 3 }}"
									}
								]
							},
							"paginationCompleteWhen": "receiveSpecificStatusCodes",
							"statusCodesWhenComplete": "201",
							"limitPagesFetched": true
						}
					}
				}
			},
			"id": "4f794c3e-7f08-4d6f-8907-1216d2bea416",
			"name": "Receive Status Code",
			"type": "n8n-nodes-base.httpRequest",
			"typeVersion": 4.1,
			"position": [900, 340]
		},
		{
			"parameters": {
				"url": "https://dummyjson.com/users",
				"sendQuery": true,
				"queryParameters": {
					"parameters": [
						{
							"name": "limit",
							"value": "3"
						}
					]
				},
				"options": {
					"pagination": {
						"pagination": {
							"parameters": {
								"parameters": [
									{
										"type": "qs",
										"name": "skip",
										"value": "={{ $count * 3 }}"
									}
								]
							},
							"paginationCompleteWhen": "other",
							"completeExpression": "={{ $response.statusCode === 201 }}"
						}
					}
				}
			},
			"id": "b0348541-a416-4a54-8ece-3a623b7b6143",
			"name": "Complete Expression",
			"type": "n8n-nodes-base.httpRequest",
			"typeVersion": 4.1,
			"position": [900, 520]
		},
		{
			"parameters": {
				"url": "https://dummyjson.com/users",
				"sendQuery": true,
				"queryParameters": {
					"parameters": [
						{
							"name": "limit",
							"value": "4"
						}
					]
				},
				"options": {
					"pagination": {
						"pagination": {
							"paginationMode": "responseContainsNextURL",
							"nextURL": "={{ $response.headers[\"next-url\"] }}",
							"limitPagesFetched": true,
							"maxRequests": 3
						}
					}
				}
			},
			"id": "698733fb-0a96-4aea-b249-3ecc27147232",
			"name": "Response Empty Next",
			"type": "n8n-nodes-base.httpRequest",
			"typeVersion": 4.1,
			"position": [900, 780]
		},
		{
			"parameters": {
				"content": "### Next URL",
				"height": 225.33363208604078,
				"width": 258.5274479049966
			},
			"id": "d028fb00-eac0-495e-b0a7-6a47958bf293",
			"name": "Sticky Note",
			"type": "n8n-nodes-base.stickyNote",
			"typeVersion": 1,
			"position": [840, 720]
		},
		{
			"parameters": {
				"content": "### Update a Parameter in Each Request",
				"height": 746.0524311001569,
				"width": 252.67667488236606
			},
			"id": "2f48dfae-a194-4d50-9f62-e30768bc3d47",
			"name": "Sticky Note1",
			"type": "n8n-nodes-base.stickyNote",
			"typeVersion": 1,
			"position": [847.3233251176339, -60]
		}
	],
	"pinData": {
		"Page Limit": [
			{
				"json": {
					"id": 0
				}
			},
			{
				"json": {
					"id": 1
				}
			},
			{
				"json": {
					"id": 2
				}
			},
			{
				"json": {
					"id": 3
				}
			},
			{
				"json": {
					"id": 4
				}
			},
			{
				"json": {
					"id": 5
				}
			},
			{
				"json": {
					"id": 6
				}
			},
			{
				"json": {
					"id": 7
				}
			},
			{
				"json": {
					"id": 8
				}
			}
		],
		"Response Empty": [
			{
				"json": {
					"id": 0
				}
			},
			{
				"json": {
					"id": 1
				}
			},
			{
				"json": {
					"id": 2
				}
			},
			{
				"json": {
					"id": 3
				}
			},
			{
				"json": {
					"id": 4
				}
			},
			{
				"json": {
					"id": 5
				}
			},
			{
				"json": {
					"id": 6
				}
			},
			{
				"json": {
					"id": 7
				}
			},
			{
				"json": {
					"id": 8
				}
			},
			{
				"json": {
					"id": 9
				}
			},
			{
				"json": {
					"id": 10
				}
			},
			{
				"json": {
					"id": 11
				}
			},
			{
				"json": {
					"id": 12
				}
			},
			{
				"json": {
					"id": 13
				}
			},
			{
				"json": {
					"id": 14
				}
			}
		],
		"Receive Status Code": [
			{
				"json": {
					"id": 0
				}
			},
			{
				"json": {
					"id": 1
				}
			},
			{
				"json": {
					"id": 2
				}
			},
			{
				"json": {
					"id": 3
				}
			},
			{
				"json": {
					"id": 4
				}
			},
			{
				"json": {
					"id": 5
				}
			},
			{
				"json": {
					"id": 6
				}
			},
			{
				"json": {
					"id": 7
				}
			},
			{
				"json": {
					"id": 8
				}
			},
			{
				"json": {
					"id": 9
				}
			},
			{
				"json": {
					"id": 10
				}
			},
			{
				"json": {
					"id": 11
				}
			},
			{
				"json": {
					"id": 12
				}
			},
			{
				"json": {
					"id": 13
				}
			},
			{
				"json": {
					"id": 14
				}
			}
		],
		"Complete Expression": [
			{
				"json": {
					"id": 0
				}
			},
			{
				"json": {
					"id": 1
				}
			},
			{
				"json": {
					"id": 2
				}
			},
			{
				"json": {
					"id": 3
				}
			},
			{
				"json": {
					"id": 4
				}
			},
			{
				"json": {
					"id": 5
				}
			},
			{
				"json": {
					"id": 6
				}
			},
			{
				"json": {
					"id": 7
				}
			},
			{
				"json": {
					"id": 8
				}
			},
			{
				"json": {
					"id": 9
				}
			},
			{
				"json": {
					"id": 10
				}
			},
			{
				"json": {
					"id": 11
				}
			},
			{
				"json": {
					"id": 12
				}
			},
			{
				"json": {
					"id": 13
				}
			},
			{
				"json": {
					"id": 14
				}
			}
		],
		"Response Empty Next": [
			{
				"json": {
					"id": 0
				}
			},
			{
				"json": {
					"id": 1
				}
			},
			{
				"json": {
					"id": 2
				}
			},
			{
				"json": {
					"id": 3
				}
			},
			{
				"json": {
					"id": 4
				}
			},
			{
				"json": {
					"id": 5
				}
			},
			{
				"json": {
					"id": 6
				}
			},
			{
				"json": {
					"id": 7
				}
			},
			{
				"json": {
					"id": 8
				}
			},
			{
				"json": {
					"id": 9
				}
			},
			{
				"json": {
					"id": 10
				}
			},
			{
				"json": {
					"id": 11
				}
			}
		]
	},
	"connections": {
		"When clicking \"Execute Workflow\"": {
			"main": [
				[
					{
						"node": "Page Limit",
						"type": "main",
						"index": 0
					},
					{
						"node": "Response Empty",
						"type": "main",
						"index": 0
					},
					{
						"node": "Receive Status Code",
						"type": "main",
						"index": 0
					},
					{
						"node": "Complete Expression",
						"type": "main",
						"index": 0
					},
					{
						"node": "Response Empty Next",
						"type": "main",
						"index": 0
					}
				]
			]
		}
	},
	"active": false,
	"settings": {
		"executionOrder": "v1"
	},
	"versionId": "62392ed5-27b1-4469-9229-d58890ec94c9",
	"id": "ZKVF9JrrzoxXbUqu",
	"meta": {
		"instanceId": "021d3c82ba2d3bc090cbf4fc81c9312668bcc34297e022bb3438c5c88a43a5ff"
	},
	"tags": []
}
